<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Scores Now</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Scores Now">
  <meta name="application-name" content="Scores Now">
  <meta name="viewport" id="viewport" content="width=device-width,maximum-scale=1,minimum-scale=1,minimal-ui">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no">
  <link rel="stylesheet" href="/css/site.css">
  <script src="/js/head.js"></script>
</head>
<body>
  <div class="site-layout-primary">
    <div class="site-layout-primary__col1">
      <a href='/#/football/fixtures/'>FOOTBALL</a>
    </div>
    <div class="site-layout-primary__col2">
      <header class="site-header">
        
        <div class="site-header__col site-header__col1">
          
          <svg viewBox="0 0 134 134" class="site-header__back-button">      
            <path d="M105.614,118.681c3.398,3.396,3.4,8.912,0,12.311c-3.396,3.399-8.91,3.398-12.311,0c-0.02-0.02-0.035-0.04-0.053-0.061   l-0.025,0.022l-57.66-57.66l0.024-0.022c-1.61-1.579-2.608-3.775-2.608-6.208c-0.002-2.73,1.258-5.166,3.229-6.762l-0.06-0.058   l57.66-57.66l0.025,0.024c0.018-0.021,0.033-0.039,0.053-0.058c3.4-3.4,8.912-3.4,12.312,0c3.398,3.396,3.398,8.908,0,12.311   c-0.021,0.02-0.041,0.034-0.061,0.054l0.023,0.024L54.043,67.063l51.54,51.54l-0.025,0.021   C105.573,118.646,105.594,118.66,105.614,118.681"></path>
          </svg>

        </div>
        <div class="site-header__col site-header__col2"><h1 class="page-title"></h1></div>
        <div class="site-header__col site-header__col3">
          
          <svg viewBox="0 0 80 80" class="site-header__hamburger">      
            <rect width="80" height="15"/>
            <rect y="30" width="80" height="15"/>
            <rect y="60" width="80" height="15"/>
          </svg>

        </div>

      </header>
      <main class="content-window">

        <div class="page-slots">
          <div class="page-slot scroll-pane page-slot--1">
            <a class="data-bar data-bar--football">
              <span class="data-bar__cell data-bar__cell-competition-name"></span>
            </a>
          </div>
          <div class="page-slot scroll-pane page-slot--2">
            <a class="data-bar data-bar--football">
              <span class="data-bar__cell data-bar__cell-competition-name"></span>
            </a>
          </div>
          <div class="page-slot scroll-pane page-slot--3">

          </div>
        </div>

      </main>
    </div>
  </div>
</body>
<script id="blob-worker" type="worker/template">
  
  var dataType;
  var dataObject;
  var todaysDate = new Date().toISOString().split('T').shift();

  function callback(data){

    // FOOTBALL FIXTURES LIST
    if(dataType === 'football-fixtures'){

      var todaysData = [];
      var competitions = [];

      data.events.forEach(function(item){

        if(item.kickOffDate === todaysDate && competitions.indexOf(item.competitionId) === -1){
          todaysData.push(item);
          competitions.push(item.competitionId);
        }
      });

      dataObject = todaysData;

    }

    // FOOTBALL COMPETITIONS
    if(dataType === 'football-competition'){
      
        dataObject = data.data.fixtures[new Date().toISOString().split('T').shift()]
    }

    self.postMessage(dataObject);
  }

  self.addEventListener('message', function(e) {

    dataType = e.data.type;
    importScripts(e.data.url + '&callback=callback');
    setTimeout(function(){
      importScripts(e.data + '&callback=callback');
    }, 45000);
    
  }, false);

</script>

<script id="football-fixtures" type="html/template"><a class="data-bar data-bar--football" ontouchstart="tapTouch(this)">
    <span class="data-bar__cell data-bar__cell-competition-name"></span>
  </a>
</script>

<script id="shim-template" type="html/template"><a class="data-bar data-bar--football">
    <span class="data-bar__cell data-bar__cell-competition-name"></span>
  </a>
</script>

<script id="football-competition" type="html/template"><a class="data-bar data-bar--football" ontouchstart="tapTouch(this)">
    <span class="data-bar__cell data-bar__cell-hometeam"></span>
    <span class="data-bar__cell data-bar__cell-homescore"></span>
    <span class="data-bar__cell data-bar__cell-awayscore"></span>
    <span class="data-bar__cell data-bar__cell-time"></span>
    <span class="data-bar__cell data-bar__cell-awayteam"></span>
    <span class="data-bar__cell data-bar__cell-status"></span>
  </a>
</script>

<script src="/js/app.js"></script>

</html>